classID=11
profileID=2
name=Restoration
specName=Restoration

[commonCodes]

[keepHPCmds]
树皮术@NA_Player=NA_checkHP(1)

[keepBuffCmds]
野性印记@NA_Player=not W_HasBuff(NA_Player, 1126, true)
回春术@NA_Player=W_HPlevel(NA_Target)<0.9 and (not hcs or W_BuffTime(NA_Target,774)<4)

[attackCodes]

[attackCmds]
愤怒@NA_Target=NA_isUsableTalentSpell(7,2)
安抚@NA_Target=NA_CheckEnrage(NA_Target)

[attackAOECodes]

[attackAOECmds]

[assistCodes]
local hcs = W_RetainBuff(NA_Target, 774, true);   --回春术
local yh = W_RetainBuff(NA_Target, 8936, true);   --愈合
local smzf = W_RetainBuff(NA_Target, 33763, true);   --生命绽放
local yxcz = W_RetainBuff(NA_Target, 48438, true);   --野性成长
local zrxj = W_RetainBuff(NA_Player, 132158, true);   --自然迅捷
local jnsf = W_RetainBuff(NA_Player, 16870, true);   --节能施法
local qxyz = W_RetainBuff(NA_Player, 113043, true);   --清晰预兆

[assistCmds]
自然迅捷@NA_Player=W_HPlevel(NA_Target)<0.7
#自然迅捷下的治疗之触
治疗之触@NA_Target=W_HPlevel(NA_Target)<0.7 and zrxj and NA_CheckRoles(NA_Target)~=1
愈合@NA_Target=W_HPlevel(NA_Target)<0.7 and zrxj and NA_CheckRoles(NA_Target)==1
铁木树皮@NA_Target=W_HPlevel(NA_Target)<0.5
治疗之触@NA_Target=W_HPlevel(NA_Target)~=1 and W_BuffTime(NA_Player, 77495)<=5 or not W_RetainBuff(NA_Player, 77495, true)
自然之愈@NA_Target=NA_CheckDebuff(NA_Target)==1 or NA_CheckDebuff(NA_Target)==3 or NA_CheckDebuff(NA_Target)==4
野性成长@NA_Target=NA_CountLowPlayers(NA_Target,0.8,30)>=3 and W_RetainBuff(NA_Player, 158478, true)
野性成长@NA_Target=NA_CountLowPlayers(NA_Target,0.8,30)>=3 and not yxcz
生命绽放@NA_Target=NA_CheckRoles(NA_Target)==1 and W_HPlevel(NA_Target)<0.9 and not smzf
愈合@NA_Target=W_HPlevel(NA_Target)<0.9 and qxyz
愈合@NA_Target=W_HPlevel(NA_Target)<0.9 and jnsf
野性蘑菇@NA_Target=NA_CountLowPlayers(NA_Target,0.8,10)>=3 and (hcs or yh)
治疗之触@NA_Target=W_HPlevel(NA_Target)<0.8 and smzf
自然的守护@NA_Player=W_HPlevel(NA_Target)<0.8 and NA_isUsableTalentSpell(6,3)
治疗之触@NA_Target=W_HPlevel(NA_Target)<0.8
源生@NA_Player=NA_CountLowPlayers(NA_Target,0.6,60)>=3 and hcs

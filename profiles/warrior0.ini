classID=1
profileID=0
name=Protection
specName=Protection

[commonCodes]

[keepHPCmds]

[keepBuffCmds]
盾牌冲锋@NA_Target=NA_IsSolo and W_TargetCanAttack()
冲锋@NA_Target=NA_IsSolo and W_TargetCanAttack()
英勇投掷@NA_Target=NA_IsSolo and W_TargetCanAttack()
战斗怒吼@NA_Player=NA_IsSolo and not W_HasBuff(NA_Player, 6673, true)

[attackCodes]
local dpgd = W_RetainBuff(NA_Player, 132404, true);   --盾牌格挡
local notTanking = not NA_IsSolo and not W_isTanking();

[attackCmds]
盾牌屏障@NA_Player=W_HPlevel(NA_Player)<0.8
破釜沉舟@NA_Player=W_HPlevel(NA_Player)<0.2
盾墙@NA_Player=W_HPlevel(NA_Player)<0.2
挫志怒吼@NA_Player=W_HPlevel(NA_Player)<0.1
乘胜追击@NA_Player=W_HPlevel(NA_Player)<0.7
狂怒回复@NA_Player=W_HPlevel(NA_Player)<0.5
乘胜追击@NA_Player=not NA_IsMaxDps and W_HPlevel(NA_Player)<0.8
胜利在望@NA_Player=NA_IsSolo and W_HPlevel(NA_Player)<0.2

嘲讽@NA_Target=notTanking
斩杀@NA_Target=W_HPlevel(NA_Target)<0.2
盾牌格挡@NA_Player=not dpgd
复仇@NA_Target=W_PowerLevel(NA_Player) < 0.5
英勇打击@NA_Target=true
盾牌猛击@NA_Target=true
毁灭打击@NA_Target=W_BuffCount(NA_Target, -113746, true)<3
盾牌冲锋@NA_Target=true
冲锋@NA_Target=true
英勇投掷@NA_Target=true
风暴之锤@NA_Target=true

[attackAOECodes]

[attackAOECmds]
盾牌屏障@NA_Player=W_HPlevel(NA_Player)<0.8
破釜沉舟@NA_Player=W_HPlevel(NA_Player)<0.2
盾墙@NA_Player=W_HPlevel(NA_Player)<0.2
挫志怒吼@NA_Player=W_HPlevel(NA_Player)<0.1
乘胜追击@NA_Player=W_HPlevel(NA_Player)<0.7
狂怒回复@NA_Player=W_HPlevel(NA_Player)<0.5
乘胜追击@NA_Player=not NA_IsMaxDps and W_HPlevel(NA_Player)<0.8
胜利在望@NA_Player=NA_IsSolo and W_HPlevel(NA_Player)<0.2

嘲讽@NA_Target=notTanking
拳击@NA_Target=NA_SpellInterrupt(NA_Target)
复仇@NA_Target=W_PowerLevel(NA_Player) < 0.5
盾牌猛击@NA_Target=true
毁灭打击@NA_Target=W_BuffCount(NA_Target, -113746, true)<3
盾牌冲锋@NA_Target=true
冲锋@NA_Target=true
英勇投掷@NA_Target=true
风暴之锤@NA_Target=true

[assistCodes]

[assistCmds]
捍卫@NA_Target=not NA_IsSolo

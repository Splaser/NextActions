classID=5
profileID=2
name=Shadow
specName=Shadow

[commonCodes]
local needHP = W_HPlevel(NA_Player) < 0.3 or (NA_IsSolo and not NA_IsMaxDps and W_HPlevel(NA_Player) < 0.5);
local needHP2 = W_HPlevel(NA_Player) < 0.6 or (NA_IsSolo and not NA_IsMaxDps and W_HPlevel(NA_Player) < 0.7);
local needHP3 = W_HPlevel(NA_Player) < 0.9 or (NA_IsSolo and not NA_IsMaxDps and W_HPlevel(NA_Player) < 0.9);

[keepHPCmds]
吸血鬼的拥抱@NA_Player=needHP2
消散@NA_Player=needHP
渐隐术@NA_Player=needHP
绝望祷言@NA_Player=needHP2
真言术：盾@NA_Player=needHP2

[keepBuffCmds]

[attackCodes]
local ayst = W_RetainBuff(NA_Target, -589, true);   --暗言术：痛
local xxgzc = W_RetainBuff(NA_Target, -34914, true);   --吸血鬼之触
local countShadowOrbs = UnitPower(NA_Player, SPELL_POWER_SHADOW_ORBS)  --暗影宝珠

[attackCmds]
心灵震爆@NA_Target=true
暗言术：痛@NA_Target=not ayst
吸血鬼之触@NA_Target=not xxgzc
暗言术：灭@NA_Target=true
摧心魔@NA_Target=true
噬灵疫病@NA_Target=countShadowOrbs == 3
光晕@NA_Target=true
精神鞭笞@NA_Target=true

[attackAOECodes]

[attackAOECmds]

[assistCodes]

[assistCmds]

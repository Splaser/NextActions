classID=2
profileID=1
name=Retribution
specName=Retribution

[commonCodes]

[keepHPCmds]
荣耀圣令@NA_Target=W_HPlevel(NA_Player) < 0.7 or (NA_IsSolo and not NA_IsMaxDps and W_HPlevel(NA_Player) < 0.8)
圣疗术@NA_Target=W_HPlevel(NA_Player) < 0.1 or (NA_IsSolo and not NA_IsMaxDps and W_HPlevel(NA_Player) < 0.2)

[keepBuffCmds]
王者祝福@NA_Player=not W_HasBuff(NA_Player, 20217, true) and not W_HasBuff(NA_Player, 1126, true)
力量祝福@NA_Player=(W_BuffCount(NA_Player, 20217)~=1 and W_HasBuff(NA_Player, 20217, true) or W_HasBuff(NA_Player, 1126, true)) and not W_HasBuff(NA_Player, 19740, true)
审判@NA_Target=W_TargetCanAttack()

[attackCodes]

[attackCmds]
圣佑术@NA_Player=NA_checkHP(1)
圣疗术@NA_Player=NA_checkHP(0)
圣盾术@NA_Player=W_HPlevel(NA_Player)<0.1
责难@NA_Target=NA_SpellInterrupt(NA_Target)
圣光闪现@NA_Player=NA_checkHP(1) and NA_isUsableTalentSpell(3,1) and W_BuffCount(NA_Player, 114250)==3
圣洁护盾@NA_Player=NA_checkHP(1) and NA_isUsableTalentSpell(3,3)
圣光之速@NA_Player=NA_isUsableTalentSpell(1,1)
审判@NA_Target=NA_isUsableTalentSpell(7,1)
处决宣判@NA_Target=NA_isUsableTalentSpell(6,3)
圣光之锤@NA_Target=NA_isUsableTalentSpell(6,2)
神圣复仇者@NA_Player=NA_isUsableTalentSpell(5,1) and W_RetainBuff(NA_Player, 152262, true) and NA_isUsableTalentSpell(7,2)
神圣复仇者@NA_Player=NA_isUsableTalentSpell(5,1) and W_PaladinPower(NA_Player)<=2 and not NA_isUsableTalentSpell(7,2)
复仇之怒@NA_Player=W_RetainBuff(NA_Player, 152262, true) and NA_isUsableTalentSpell(7,2)
复仇之怒@NA_Player=not NA_isUsableTalentSpell(7,2)
炽天使@NA_Player=NA_isUsableTalentSpell(7,2)
神圣风暴@NA_Target=W_RetainBuff(NA_Player, 144595, true) and W_PaladinPower(NA_Player)==5 and W_RetainBuff(NA_Player, 157048, true)
神圣风暴@NA_Target=W_RetainBuff(NA_Player, 144595, true) and W_PaladinPower(NA_Player)==5 and not NA_isUsableTalentSpell(7,3)
神圣风暴@NA_Target=W_PaladinPower(NA_Player)==5 and W_RetainBuff(NA_Player, 157048, true)
神圣风暴@NA_Target=W_RetainBuff(NA_Player, 144595, true) and W_PaladinPower(NA_Player)==5 and (NA_isUsableTalentSpell(7,2) and W_GetSpellCooldown(152262)<=5)
圣殿骑士的裁决@NA_Target=W_PaladinPower(NA_Player)==5 or W_RetainBuff(NA_Player, 105809, true) and W_PaladinPower(NA_Player)>=3 and (not NA_isUsableTalentSpell(7,2) or W_GetSpellCooldown(152262)>5)
神圣风暴@NA_Target=W_RetainBuff(NA_Player, 144595, true) and W_BuffTime(NA_Player, 144595)<4 and not NA_isUsableTalentSpell(7,3)
最终审判@NA_Target=NA_isUsableTalentSpell(7,3) and W_PaladinPower(NA_Player)==5 or W_RetainBuff(NA_Player, 105809, true) and W_PaladinPower(NA_Player)>=3
最终审判@NA_Target=NA_isUsableTalentSpell(7,3) and W_RetainBuff(NA_Player, 86172, true) and W_BuffTime(NA_Player, 86172)<4
愤怒之锤@NA_Target=true
审判@NA_Target=NA_isUsableTalentSpell(7,1) and W_FormInfo(1) and W_BuffTime(NA_Player, 156990)<W_GetSpellCooldown(20271)
审判@NA_Target=true
驱邪术@NA_Target=W_RetainBuff(NA_Player, 166831, true) and W_PaladinPower(NA_Player)<=2 and not W_RetainBuff(NA_Player, 105809, true)
真理圣印@NA_Player=NA_isUsableTalentSpell(7,1) and W_FormInfo(2) and not W_RetainBuff(NA_Player, 156990, true) and W_BuffTime(NA_Player, 156990)<=3
正义圣印@NA_Player=NA_isUsableTalentSpell(7,1) and not W_RetainBuff(NA_Player, 156989, true) and not W_RetainBuff(NA_Player, 31884, true) and not W_RetainBuff(NA_Player, 32182, true) and not W_RetainBuff(NA_Player, 80353, true)
神圣风暴@NA_Target=W_RetainBuff(NA_Player, 144595, true) and W_RetainBuff(NA_Player, 157048, true) and (W_RetainBuff(NA_Player, 31884, true) or W_HPlevel(NA_Target)<0.35)
最终审判@NA_Target=NA_isUsableTalentSpell(7,3) and W_RetainBuff(NA_Player, 31884, true) or W_HPlevel(NA_Target)<0.35
圣殿骑士的裁决@NA_Target=W_RetainBuff(NA_Player, 31884, true) or W_HPlevel(NA_Target)<0.35 and (not NA_isUsableTalentSpell(7,2) or W_GetSpellCooldown(152262)>6)
十字军打击@NA_Target=W_PaladinPower(NA_Player)<5
神圣风暴@NA_Target=W_RetainBuff(NA_Player, 144595, true) and (W_RetainBuff(NA_Player, 31884, true) or W_HPlevel(NA_Target)<0.35) and not NA_isUsableTalentSpell(7,3)
神圣风暴@NA_Target=W_RetainBuff(NA_Player, 144595, true) and W_RetainBuff(NA_Player, 157048, true)
最终审判@NA_Target=NA_isUsableTalentSpell(7,3) and W_RetainBuff(NA_Player, 86172, true)
最终审判@NA_Target=W_PaladinPower(NA_Player)>=4
驱邪术@NA_Target=NA_CheckGlyph(1009) and W_PaladinPower(NA_Player)<5 and W_GetSpellCooldown(152262)>3
圣殿骑士的裁决@NA_Target=W_RetainBuff(NA_Player, 86172, true)
神圣风暴@NA_Target=W_RetainBuff(NA_Player, 144595, true) and not NA_isUsableTalentSpell(7,3)
圣殿骑士的裁决@NA_Target=W_PaladinPower(NA_Player)>=4 and (not NA_isUsableTalentSpell(7,3) or W_GetSpellCooldown(152262)>7)
真理圣印@NA_Player=NA_isUsableTalentSpell(7,1) and W_BuffTime(NA_Player, 156990)<W_GetSpellCooldown(20271)
正义圣印@NA_Player=NA_isUsableTalentSpell(7,1) and W_BuffTime(NA_Player, 156989)<W_GetSpellCooldown(20271) and not W_RetainBuff(NA_Player, 32182, true) and not W_RetainBuff(NA_Player, 80353, true)
驱邪术@NA_Target=W_PaladinPower(NA_Player)<5
圣殿骑士的裁决@NA_Target=W_PaladinPower(NA_Player)>=3 and (not NA_isUsableTalentSpell(7,3) or W_GetSpellCooldown(152262)>9)
神圣棱镜@NA_Target=NA_isUsableTalentSpell(6,1)

[attackAOECodes]

[attackAOECmds]
愤怒之锤@NA_Target=W_HPlevel(NA_Target) < 0.2
神圣棱镜@NA_Target=NA_IsSolo and W_HPlevel(NA_Player) < 0.8
神圣风暴@NA_Target=W_PaladinPower(NA_Player)>2
正义之锤@NA_Target=true
驱邪术@NA_Target=true
审判@NA_Target=true
神圣棱镜@NA_Target=true

[assistCodes]

[assistCmds]
清洁术@NA_Player=NA_CheckDebuff(NA_Player)==2 or NA_CheckDebuff(NA_Player)==3
牺牲之手@NA_Target=W_HPlevel(NA_Target)<0.6 and W_HPlevel(NA_Player)>0.7 and not UnitIsUnit(NA_Player,NA_Target)
保护之手@NA_Target=NA_CheckRoles(NA_Target)~=1 and W_HPlevel(NA_Target) < 0.6 and not UnitIsUnit(NA_Player,NA_Target)
